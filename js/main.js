const BASE_URL = "http://47.97.171.123:3000/api/web/v1/commons";

$(function(){
    nav('.hedaer_nav','.hedaer_nav .n_item');
	$('.products .pro_cate .first_cate').on('click',function(){
		$(this).parents('.list').find('.son_cate').toggleClass('on');
		$(this).parents('.list').toggleClass('on');
	})
	$('.header_icon_search').click(function(e){
        e.stopPropagation();
        let formBox = $('.header_search_form');
        let op = formBox.css('opacity');
        if(op !=1){
            formBox.css('opacity',1).css('pointerEvents','all');
        }else{
            formBox.css('opacity',0).css('pointerEvents','none');
        }    

    });
    $('body').click(function(){
        let formBox = $('.header_search_form');
        formBox.css('opacity',0).css('pointerEvents','none');
    });
    
    $('.header_search_form').click(function(e){
        e.stopPropagation();
    });

    $(window).scroll(function(){
        var height = $("#top").outerHeight();
        var w_top = $(this).scrollTop();
        if(w_top > height){
            $('#header .header_in').addClass('fixed');
        }else{
            $('#header .header_in').removeClass('fixed');
        }
    });
     // shipping点击展开/收起
    $('.acc_header').click(function() {
        let $obj = $(this).find('a').attr('aria-controls');
        if ($('#' + $obj).hasClass('show')) {
            $('#' + $obj).removeClass('show')
            $(this).find('a').find('.acc_open').hide()
            $(this).find('a').find('.acc_close').show()
            $(this).find('img').removeClass('tf180')
        } else {
            $('#' + $obj).addClass('show')
            $(this).find('img').addClass('tf180')
            $(this).find('a').find('.acc_open').show()
            $(this).find('a').find('.acc_close').hide()
        }
    });

    
    //关闭弹窗
    $('.btn_sure').click(function() {
        $('.win_alert').hide();
    });

    $('.win_close .close').click(function() {
        $('.win_alert').hide();
    });
    
    $(document).keydown(function(event) {
        let searchValue = $(".header_search_form  .text").val();
        let search_text2 = $(".search_text2").val();
      
        if (event.keyCode == 13 && searchValue) {
            $(".header_search_form  .text").val('');
            window.location = 'products.html?q=' + searchValue;
        }else if (event.keyCode == 13 && search_text2) {
             debugger
            window.location = 'products.html?q=' + search_text2;
        }
    });

    $('.header_search_form  .sub_btn').click(function() {
        let searchValue = $(".header_search_form  .text").val();
        if (searchValue) {
            $(".header_search_form  .text").val('');
            window.location = 'products.html?q=' + searchValue;
        }
    });
    $('body').on('click', '.sub_btn1', function(){
        let searchValue = $(".search_text1").val();
        if (searchValue) {
            $(".search_text1").val('');
            window.location = 'products.html?q=' + searchValue;
        }
    });
    $('body').on('click', '.search_box input', function(){
        let searchValue = $(".search_text1").val();
        if (searchValue) {
            $(".search_text1").val('');
            window.location = 'products.html?q=' + searchValue;
        }
    });
    $('body').on('click', '.sub_btn2', function(){
        let searchValue = $(this).parent().find('input').val();
        if (searchValue) {
            $(this).parent().find('input').val('');
            window.location = 'products.html?q=' + searchValue;
        }
    });
});



var global_obj={timer:"",check_form:function(t,e,i,s){var r=!1,n=(s=void 0===arguments[3]?0:1,new Object);if(t&&(t.each(function(){var t=$(this).parents(".tab_txt").attr("lang");n[t]||(n[t]=0),$(this).find("input").length||""!=$.trim($(this).val())?(0==n[t]&&$(this).parents(".rows").find(".tab_box_btn[data-lang="+t+"]").removeClass("empty"),$(this).attr("parent_null")?$(this).parents("[parent_null]").removeAttr("style").removeClass("null"):$(this).removeAttr("style").removeClass("null")):(t&&(n[t]+=1,$(this).parents(".rows").find(".tab_box_btn[data-lang="+t+"]").addClass("empty"),$(".r_con_wrap").animate({scrollTop:$(this).parents(".rows").position().top},0)),$(this).attr("parent_null")?($(this).parent().css("border","1px solid red").addClass("null"),$(this).parents("[parent_null]").css("border","1px solid red").addClass("null")):$(this).css("border","1px solid red").addClass("null"),0==r&&$(this).focus(),r=!0)}),$(".rows").find(".tab_box_row .tips").hide(),$(".rows").find(".tab_box_row .tab_box_btn").each(function(){$(this).hasClass("empty")&&$(this).parents(".tab_box_row").find(".tips").show()}),r))return r;if(e){var o={MobilePhone:/^1[3456789]\d{9}$/,Telephone:/^(0\d{2,3})(-)?(\d{7,8})(-)?(\d{3,})?$/,Fax:/^(0\d{2,3})(-)?(\d{7,8})(-)?(\d{3,})?$/,Email:/^\w+[a-zA-Z0-9-.+_]+@[a-zA-Z0-9-.+_]+\.\w*$/,Length:/^.*/},a={MobilePhone:lang_obj.web.global.format_mobilephone,Telephone:lang_obj.web.global.format_telephone,Fax:lang_obj.web.global.format_fax,Email:lang_obj.web.global.format_email,Length:lang_obj.web.global.format_length};1==i?e.each(function(){var t=$(this);$.trim(t.val())&&!1===o[t.attr("format")].test($.trim(t.val()))&&(t.css("border","1px solid red").addClass("null"),t.focus(),r=!0)}):e.each(function(){var t=$(this),e=t.attr("format").split("|");if($.trim(t.val())){if("Length"==e[0]&&$.trim(t.val()).length!=parseInt(e[1])||"Length"!=e[0]&&!1===o[e[0]].test($.trim(t.val())))return global_obj.new_win_alert(a[e[0]].replace("{Length}",e[1])),t.css("border","1px solid red").addClass("null"),t.focus(),r=!0,!1}else r=!1})}return r},new_win_alert:function(t,e,i,s,r,n,o){o=o||"";var a;i=void 0===arguments[2]?"alert":arguments[2],s=void 0===arguments[3]?0:1,r=void 0===arguments[4]?"await":arguments[4],n=void 0===arguments[5]?lang_obj.web.global.confirm:arguments[5];return $("#div_mask, .new_win_alert").remove(),global_obj.div_mask(),a='<div class="new_win_alert themes_popups'+(""!=o?o:"")+'">',a+='<div class="win_close"><button class="close"></button></div>',a+='<div class="win_tips"><i class="icon_success_status '+r+'"></i>'+t+"</div>",a+='<div class="win_btns">',"confirm"==i&&(a+='<button class="btn btn_cancel">'+lang_obj.web.global.cancel+"</button>"),a+='<button class="btn btn_sure">'+n+"</button>",a+='<div class="clear"></div>',a+="</div>",a+="</div>",$("body").prepend(a),$(".new_win_alert").css({left:$(window).width()/2-$(".new_win_alert").outerWidth()/2,top:"30%"}),"confirm"==i?$(".new_win_alert").delegate(".close, .btn_cancel","click",function(){$(".new_win_alert").remove(),0==s&&global_obj.div_mask(1)}).delegate(".btn_sure","click",function(){$.isFunction(e)&&e(),$(".new_win_alert .close").click()}):($(".new_win_alert").delegate(".close, .btn_sure","click",function(){$.isFunction(e)&&e(),$(".new_win_alert").remove(),0==s&&global_obj.div_mask(1)}),$("#div_mask").click(function(){$.isFunction(e)&&e(),$(".new_win_alert").remove(),0==s&&global_obj.div_mask(1)})),!1},win_alert_auto_close:function(t,e,i,s,r){e=void 0===arguments[1]?"":arguments[1],i=void 0!==arguments[2]&&arguments[2]?arguments[2]:"200000",s=void 0!==arguments[3]&&arguments[3]?arguments[3]:"40%",r=void 0===arguments[4]?1:arguments[4];let n="";return r&&$("#div_mask, .clock_alert").remove(),("loading"!=e||"loading"==e&&-1==i)&&(n+='<div class="clock_alert">',n+='<div class="clock_alert_box">',n+=""!=e?'<i class="icon_success_status '+e+'"></i>':"",n+='<div class="clock_alert_content">'+t+"</div>",n+="</div>",n+="</div>",$("body").prepend(n),$(".clock_alert").css({left:$(window).width()/2-$(".clock_alert").outerWidth(!0)/2,top:s}),$(".clock_alert").fadeIn()),clearTimeout(global_obj.timer),("loading"!=e||"loading"==e&&i>=0)&&(global_obj.timer=setTimeout(function(){$(".clock_alert").fadeOut(500,function(){$(this).remove()})},i)),!1},div_mask:function(t){var e=void 0===arguments[1]?"":arguments[1],i=$("body");"object"==typeof e&&(i=e),1==t?$("#div_mask").remove():$("#div_mask").size()||(i.prepend('<div id="div_mask"></div>'),$("#div_mask").css({width:"100%",height:$(document).height(),overflow:"hidden",position:"fixed",top:0,left:0,background:"#000",opacity:.6,"z-index":1e4}))},data_posting:function(t,e){t?($("body").prepend('<div id="data_posting"><img src="/static/ico/data_posting.gif" style="margin-top: 4px;display: inline-block;vertical-align: top;" width="16" height="16" align="absmiddle" />&nbsp;&nbsp;'+e+"</div>"),$("#data_posting").css({width:"188px",height:"24px","line-height":"24px",padding:"0 8px",overflow:"hidden",border:"1px solid #bbb",background:"#ddd",position:"fixed",top:"40%",left:"0",right:"0",margin:"auto","z-index":10001})):setTimeout('$("#data_posting").remove();',500)},urlencode:function(t){return t=(t+"").toString(),encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},json_encode_data:function(t){var e=new Object;if("string"==typeof t&&t)if("object"==typeof JSON)e=JSON.parse(t);else{var i,s,r;i=t.substr(1,t.length-2).split(',"');for(var n=0;n<i.length;n++)s=i[n].split(":"),r=parseInt(isNaN(s[0])?0==n?s[0].substr(1,s[0].length-2):s[0].substr(0,s[0].length-1):s[0]),"["==s[1].substr(0,1)?e[r]=s[1].substr(1,s[1].length-2).split(","):e[r]=s[1]}else e=t;return e},json_decode_data:function(t){var e;if("object"==typeof t)if("object"==typeof JSON)e=JSON.stringify(t);else{for(k in e="",t)global_obj.is_array(t[k])?e+='"'+k+'":['+t[k]+"],":e+='"'+k+'":"'+t[k]+'",';e="{"+e.substr(0,e.length-1)+"}"}else e=t;return e},in_array:function(t,e){for(var i=0;i<e.length&&e[i]!=t;i++);return!(i==e.length)},is_array:function(t){return"[object Array]"==Object.prototype.toString.call(t)},base64_encode:function(t){for(var e,i,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=t.length,a="";n<o;){if(e=255&t.charCodeAt(n++),n==o){a+=r.charAt(e>>2),a+=r.charAt((3&e)<<4),a+="==";break}if(i=t.charCodeAt(n++),n==o){a+=r.charAt(e>>2),a+=r.charAt((3&e)<<4|(240&i)>>4),a+=r.charAt((15&i)<<2),a+="=";break}s=t.charCodeAt(n++),a+=r.charAt(e>>2),a+=r.charAt((3&e)<<4|(240&i)>>4),a+=r.charAt((15&i)<<2|(192&s)>>6),a+=r.charAt(63&s)}return a},htmlspecialchars:function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/'/g,"&#039;"),t},htmlspecialchars_decode:function(t){return t=t.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&#039;/g,"'"),t=t.replace(/&#39;/g,"'"),t},web_attr_htmlspecialchars:function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t},setCookie:function(t,e,i,s,r){var n=new Date;n.setDate(n.getDate()+i),document.cookie=t+"="+escape(e)+(null==i?"":";expires="+n.toGMTString())+(null==s?"":";path="+s)+(null==s?"":";path="+s)+(null==r?"":";domain="+r)},getCookie:function(t){return document.cookie.length>0&&(start=document.cookie.indexOf(t+"="),-1!=start)?(start+=t.length+1,end=document.cookie.indexOf(";",start),-1==end&&(end=document.cookie.length),unescape(document.cookie.substring(start,end))):""},delCookie:function(t,e){var i=new Date;i.setDate(i.getDate()-1);var s=global_obj.getCookie(t);s&&(document.cookie=t+"="+escape(s)+(null==e?"":";expires="+i.toGMTString()))},Waterfall:function(t,e,i,s){function r(t){this.id="string"==typeof t.container?document.getElementById(t.container):t.container,this.colWidth=t.colWidth,this.colCount=t.colCount||4,this.cls=t.cls&&""!=t.cls?t.cls:"wf-cld",this.init()}r.prototype={getByClass:function(t,e){for(var i=[],s=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g"),r=e.getElementsByTagName("*"),n=r.length,o=0;o<n;o++)s.test(r[o].className)&&(i.push(r[o]),s.lastIndex=0);return i},maxArr:function(t){for(var e=t.length,i=t[0],s=1;s<e;s++)i<t[s]&&(i=t[s]);return i},getMar:function(t){var e=0;return t.currentStyle?e=parseInt(t.currentStyle.marginBottom):document.defaultView&&(e=parseInt(document.defaultView.getComputedStyle(t,null).marginBottom)),e},getMinCol:function(t){for(var e=t,i=e.length,s=e[0],r=0,n=0;n<i;n++)s>e[n]&&(s=e[n],r=n);return r},init:function(){for(var t=this,e=[],i=[],s=t.getByClass(t.cls,t.id),r=s.length,n=0;n<t.colCount;n++)e[n]=0;for(n=0;n<r;n++)s[n].h=s[n].offsetHeight+t.getMar(s[n]),i[n]=n;for(n=0;n<r;n++){var o=t.getMinCol(e);s[n].style.left=o*t.colWidth+"px",s[n].style.top=e[o]+"px",e[o]+=s[n].h}t.id.style.height=t.maxArr(e)+"px"}},new r({container:t,colWidth:e,colCount:i,cls:s})},sort:function(t,e){return-1!=t.indexOf("Ov:")&&(t=99999999),-1!=e.indexOf("Ov:")&&(e=99999999),t-e},query_get:function(t,e){if("parent"==e)var i=window.parent.location.search.substring(1);else i=window.location.search.substring(1);for(var s=i.split("&"),r=0;r<s.length;r++){var n=s[r].split("=");if(n[0]==t)return n[1]}return!1},set_currency_location:function(){if(location.search&&-1!=location.search.indexOf("?")){var t=location.search.substr(1),e=t.split("&"),i={},s="";for(n=0;n<e.length;n++){var r=e[n].split("=");r[0]&&(i[r[0]]=r[1])}if(delete i.currency,Object.keys(i).length){var n=0;for(k in i)s+=(n?"&":"?")+k+"="+i[k],n++}window.location=location.origin+location.pathname+s}else window.location.reload()},getScrollWidth:function(){var t,e,i=document.createElement("DIV");return i.style.cssText="position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;",t=document.body.appendChild(i).clientWidth,i.style.overflowY="scroll",e=i.clientWidth,document.body.removeChild(i),t-e},setAjax:function(t){if(void 0===t.data)return!1;if(void 0===t.data.module||void 0===t.data.action)return!1;let e=t.data.module+"-"+t.data.action;void 0!==t.data.symbol&&(e+="-"+t.data.symbol),ueeshop_handle[e]=t},requestHandle:function(){if("undefined"==typeof ueeshop_handle)return!1;let t=Object.keys(ueeshop_handle).length,e={};if(!t)return!1;$.each(ueeshop_handle,function(t,i){e[t]=i.data}),$.ajax({url:"/ajax/requestHandle.html",data:e,type:"post",dataType:"json",success:function(t){1==t.ret&&$.each(t.msg,function(t,e){if(void 0===ueeshop_handle[t].success||!$.isFunction(ueeshop_handle[t].success))return!0;ueeshop_handle[t].success.call(this,e)})}})}};$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(t){if(null===t)return"null";var e,i,s,r,n=$.type(t);if("undefined"!==n){if("number"===n||"boolean"===n)return String(t);if("string"===n)return $.quoteString(t);if("function"==typeof t.toJSON)return $.toJSON(t.toJSON());if("date"===n){var o=t.getUTCMonth()+1,a=t.getUTCDate(),l=t.getUTCFullYear(),c=t.getUTCHours(),h=t.getUTCMinutes(),d=t.getUTCSeconds(),u=t.getUTCMilliseconds();return o<10&&(o="0"+o),a<10&&(a="0"+a),c<10&&(c="0"+c),h<10&&(h="0"+h),d<10&&(d="0"+d),u<100&&(u="0"+u),u<10&&(u="0"+u),'"'+l+"-"+o+"-"+a+"T"+c+":"+h+":"+d+"."+u+'Z"'}if(e=[],$.isArray(t)){for(i=0;i<t.length;i++)e.push($.toJSON(t[i])||"null");return"["+e.join(",")+"]"}if("object"==typeof t){for(i in t)if(hasOwn.call(t,i)){if(n=typeof i,"number"===n)s='"'+i+'"';else{if("string"!==n)continue;s=$.quoteString(i)}n=typeof t[i],"function"!==n&&"undefined"!==n&&(r=$.toJSON(t[i]),e.push(s+":"+r))}return"{"+e.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")};var meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.quoteString=function(t){return t.match(escape)?'"'+t.replace(escape,function(t){var e=meta[t];return"string"==typeof e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"'},$.fn.addScrollProcess=function(){if($obj=$(this),$(window).size()<=768){$obj=$(".ly_poster_195 .ly_cate_main"),$obj.parent().next(".main_process").length||$obj.parent().after('<div class="main_process"><div class="scroll_progressSon"></div></div>'),$obj.css({"padding-bottom":"10px"}).addClass("unShowScrollBar"),$moveObj=$obj.parent().next(".main_process"),$obj.children().length<=2&&$moveObj.css("opacity",0);var t=0,e=$obj.width();$obj.children().each(function(){t+=$(this).outerWidth(!0)}),t-=e,$obj.on("scroll",function(){var e=$moveObj.width()-$moveObj.find(".scroll_progressSon").width(),i=$(this).scrollLeft();process=i/t*e,process<=0&&(process=0),$moveObj.find(".scroll_progressSon").css({transform:"translateX("+process+"px)"})})}},$.fn.realTimeOrder=function(t=0){var e=order_real_data[t].Time,i=parseInt(parseInt((new Date).getTime()).toString().substring(0,parseInt((new Date).getTime()).toString().length-3)),s=i-e;s<60?($Time=s,$TimeColumn="realOrderSec"):s<3600?($Time=Math.round(s/60),$TimeColumn="realOrderMin"):s<86400?($Time=Math.round(s/60/60),$TimeColumn="realOrderHour"):s<2592e3?($Time=Math.round(s/60/60/24),$TimeColumn="realOrderDay"):($Time=Math.round(s/60/60/24/30),$TimeColumn="realOrderMon"),$text=lang_obj.products.goods[$TimeColumn+($Time>1?"Num":"")],$TimeStr=$text.replace("{Time}",$Time),$("#real_time_order").css("opacity",1),$("#real_time_order .pro_image>a").attr({href:order_real_data[t].Url,alt:order_real_data[t].Title}),$("#real_time_order .pro_image>a>img").attr("src",order_real_data[t].Image),$("#real_time_order .buy_info").text(order_real_data[t].Info),$("#real_time_order .title>a").text(order_real_data[t].Title).attr("href",order_real_data[t].Url),$("#real_time_order .time").text($TimeStr),"undefined"!=typeof $RealTimeOrder&&$RealTimeOrder&&clearInterval($RealTimeOrder)},$.fn.floatingNumber=function(type,arg1,arg2){var result="";if("addition"==type){var r1,r2,m;try{r1=arg1.toString().split(".")[1].length}catch(t){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(t){r2=0}m=Math.pow(10,Math.max(r1,r2)),result=(Math.round(arg1*m)+Math.round(arg2*m))/m}else if("subtraction"==type){var r1,r2,m,n;try{r1=arg1.toString().split(".")[1].length}catch(t){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(t){r2=0}m=Math.pow(10,Math.max(r1,r2)),n=r1>=r2?r1:r2,result=parseFloat(((Math.round(arg1*m)-Math.round(arg2*m))/m).toFixed(n))}else if("multiply"==type){var m=0,s1=arg1.toString(),s2=arg2.toString();try{m+=s1.split(".")[1].length}catch(t){}try{m+=s2.split(".")[1].length}catch(t){}result=Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m)}else if("division"==type){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(t){}try{t2=arg2.toString().split(".")[1].length}catch(t){}with(Math)r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),result=r1/r2*pow(10,t2-t1)}return result},Number.prototype.add=function(t){return $("html").floatingNumber("addition",t,this)},Number.prototype.sub=function(t){return $("html").floatingNumber("subtraction",this,t)},Number.prototype.mul=function(t){return $("html").floatingNumber("multiply",t,this)},Number.prototype.div=function(t){return $("html").floatingNumber("division",this,t)},$.fn.priceShow=function(){var t=0;$(this).find(".price_data[data]").each(function(){if(t=parseFloat($(this).attr("data")).mul(parseFloat(ueeshop_config.currency_rate)),$(this).parents(".themes_products_origin_price").size()&&t<=0)return!0;$(this).text($("html").iconvPriceFormat(t,2,"",1)),$(this).parent().find(".currency_data").text(ueeshop_config.currency_symbols)})},$.fn.iconvPriceFormat=function(t){var e=void 0===arguments[1]?0:arguments[1],i=void 0===arguments[2]?"":arguments[2],s=void 0===arguments[3]?0:arguments[3],r=ueeshop_config.currency_symbols,n=(t=parseFloat(t),0);return""==i&&(i=ueeshop_config.currency),0==e?(t=parseInt(t.mul(1e4)),n=Math.ceil(t.div(100)).div(100).toFixed(2),1==s&&i&&(n=$("html").currencyFormat(n,i)),n=r+n):1==e?n=r:(t=parseInt(t.mul(1e4)),n=Math.ceil(t.div(100)).div(100).toFixed(2),1==s&&i&&(n=$("html").currencyFormat(n,i))),n},$.fn.currencyFormat=function(t,e){let i=0;switch(t=parseFloat(t),t=$("html").currencyFloatPrice(t,e),e){case"USD":case"GBP":case"CAD":case"AUD":case"CHF":case"HKD":case"ILS":case"MXN":case"CNY":case"SAR":case"SGD":case"NZD":case"AED":i=t.formatMoney(2,".",",");break;case"RUB":i=t.formatMoney(2,","," ");break;case"EUR":case"BRL":case"ARS":i=t.formatMoney(2,",",".");break;case"CLP":case"NOK":case"DKK":case"COP":case"VND":i=t.formatMoney(0,"",".");break;case"JPY":case"SEK":case"KRW":case"INR":case"TWD":i=t.formatMoney(0,"",",");break;default:i=t.formatMoney(2,".",",")}return i},Number.prototype.formatMoney=function(t,e,i){t=isNaN(t=Math.abs(t))?2:t,i=i||",",e=e||".";var s=this,r=s<0?"-":"",n=parseInt(s=Math.abs(+s||0).toFixed(t),10)+"",o=(o=n.length)>3?o%3:0;return r+(o?n.substr(0,o)+i:"")+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?e+Math.abs(s-n).toFixed(t).slice(2):"")},$.fn.currencyFloatPrice=function(t,e){return ary=["CLP","NOK","DKK","COP","JPY","SEK","KRW","INR","TWD","VND"],global_obj.in_array(e,ary)&&(t=Math.ceil(t)),t},$.fn.visualSrcoll=function(t){t=$.extend({obj:$(this),init:function(){if(this.model=t.model||"scroll",this.self=t.obj.html(),this.html="",this.number=t.number,this.index=t.index||0,this.speed=t.speed||300,this.count=t.count||4,this.isTouch=t.isTouch||0,this.element=t.obj[0],this.callback=t.callback||"",this.slideFun=t.slideFun||"",this.touchEvent="ontouchstart"in window,this.isMoving=!1,this.auto=t.auto||0,this.time=t.time||5e3,this.isAllow=1,this.isAction=0,this.visualSrcollAuto=0,!this.element)return!1;if(this.element.addEventListener&&(1==this.isTouch&&(this.element.addEventListener(this.touchEvent?"touchstart":"mousedown",this,!1),this.element.addEventListener(this.touchEvent?"touchmove":"mousemove",this,!1),this.element.addEventListener(this.touchEvent?"touchend":"mouseup",this,!1)),window.addEventListener("resize",this,!1)),void 0===t.number&&$(".box_visual_srcoll").size()>0&&(this.number=$(".box_visual_srcoll").size()),void 0===t.number&&0==$(".box_visual_srcoll").size()&&(this.number=0),this.html+='<div class="srcoll_list">',this.html+='<a href="javascript:;" rel="nofollow" class="srcoll_btn srcoll_btn_prev" data-btn-srcoll="'+this.number+'" data-srcoll-direction="prev"></a>',this.html+='<a href="javascript:;" rel="nofollow" class="srcoll_btn srcoll_btn_next" data-btn-srcoll="'+this.number+'" data-srcoll-direction="next"></a>',this.html+='<div class="srcoll_suit" style="width:100%;">',this.html+='<div class="srcoll_suit" style="width:100%; overflow:hidden;">',this.html+='<div class="srcoll_suit_box">'+this.self+"</div>",this.html+="</div>",this.html+='</div">',t.obj.addClass("box_visual_srcoll").attr("data-box-srcoll",this.number).html(this.html),this.suit=t.obj.find(".srcoll_list .srcoll_suit"),this.box=t.obj.find(".srcoll_list .srcoll_suit_box"),this.box.element=this.box[0],this.children=this.box.children(),this.length=this.children.size(),this.children.each(function(t,e){$(this).attr("data-item",t)}),this.setup(),"cycle"==this.model&&1==this.isAllow){let t=this.box.children(":last");this.box.prepend(t);let e=this.width;style=this.box.element.style,style.MozTransform=style.webkitTransform="translate3d("+-e+"px, 0, 0)",style.msTransform=style.OTransform="translateX("+-e+"px)"}this.bind(),$.isFunction(this.callback)&&this.callback(),1==this.auto&&(clearInterval(this.visualSrcollAuto),this.visualSrcollAuto=setInterval(t.autoPlay,this.time))},setup:function(){if(!this.length)return!1;this.children.eq(0)[0].currentStyle?this.cElement=this.children.eq(0)[0].currentStyle:this.cElement=getComputedStyle(this.children.eq(0)[0],!1),this.width=parseFloat(this.cElement.width)+parseFloat(this.cElement.marginRight)+parseFloat(this.cElement.marginLeft);let t=this.length;for("cycle"==this.model&&parseFloat(t*this.width+1)>this.suit.width()&&(t+=1),this.box.element.style.width=parseFloat(t*this.width+1).toFixed(2)+"px",i=1;i<=this.length;++i)if(i*this.width>=this.box.width()){this.count=i,(i-.5)*this.width>=this.box.width()&&(this.count=i-1);break}return this.count>=this.length?(this.isAllow=0,!1):this.box.width()<=this.suit.width()?(this.isAllow=0,!1):void this.slide(this.index,0)},bind:function(){$('*[data-btn-srcoll="'+this.number+'"]').on("click",function(){"cycle"==t.model?"prev"==$(this).data("srcoll-direction")?t.slide(-1,t.speed):t.slide(1,t.speed):"prev"==$(this).data("srcoll-direction")?t.prev():t.next()}),t.box.hover(function(){1==t.auto&&clearInterval(t.visualSrcollAuto)},function(){1==t.auto&&(clearInterval(t.visualSrcollAuto),t.visualSrcollAuto=setInterval(t.autoPlay,t.time))}),$('*[data-btn-srcoll="'+this.number+'"]').hover(function(){1==t.auto&&clearInterval(t.visualSrcollAuto)},function(){1==t.auto&&(clearInterval(t.visualSrcollAuto),t.visualSrcollAuto=setInterval(t.autoPlay,t.time))})},prev:function(){this.index&&this.slide(this.index-1,this.speed)},next:function(){this.index<this.length-this.count&&this.slide(this.index+1,this.speed)},slide:function(e,i){if(0==t.isAllow||1==t.isAction)return!1;if(t.isAction=1,"cycle"==t.model){if(-1==e){let e=t.box.children(":last");t.box.prepend(e.clone());let s=t.box.children(":first");s.hide(),s.show(i,function(){$(this).removeAttr("style"),e.remove()}),this.index=t.box.children().eq(1).attr("data-item")}else if(1==e){let e=t.box.children(":first");t.box.append(e.clone());let s=t.box.children(":last");s.show(i),e.hide(i,function(){$(this).remove()}),this.index=t.box.children().eq(2).attr("data-item")}0==e&&(this.index=t.box.children().eq(0).attr("data-item"))}else{let t=e*this.width,s=t+this.suit.width()-this.length*this.width;s>0&&(t-=s),style=this.box.element.style,style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration=i+"ms",style.MozTransform=style.webkitTransform="translate3d("+-t+"px, 0, 0)",style.msTransform=style.OTransform="translateX("+-t+"px)",this.index=e}$.isFunction(this.slideFun)&&this.slideFun(),setTimeout(function(){t.isAction=0},i)},handleEvent:function(t){switch(t.touches||(t.touches=new Array(t),t.scale=!1),t.type){case"touchstart":case"mousedown":this.touchStart(t);break;case"touchmove":case"mousemove":this.touchMove(t);break;case"touchend":case"mouseup":this.touchEnd(t);break;case"resize":this.setup()}},touchStart:function(t){this.isMoving=!0,this.tConfig={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,moveX:this.box.element.style.msTransform?parseFloat(this.box.element.style.msTransform.replace("translateX(","")):0},this.movingX=0,this.surplus=-1*parseFloat(this.box.width()-this.suit.width()),this.tMoveX=0},touchMove:function(t){this.isMoving&&(t.touches.length>1||t.scale&&1!==t.scale||(this.movingX=t.touches[0].pageX-this.tConfig.pageX,1==this.count?(this.movingX=this.movingX/(0==this.index&&this.movingX>0||this.index==this.length-this.count&&this.movingX<0?Math.abs(this.movingX)/this.width+1:1),style=this.box.element.style,style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration="0ms",style.MozTransform=style.webkitTransform="translate3d("+(this.movingX-this.index*this.width)+"px, 0, 0)",style.msTransform=style.OTransform="translateX("+(this.movingX-this.index*this.width)+"px)"):(this.tMoveX=parseFloat(this.tConfig.moveX+this.movingX),(this.tMoveX>0||this.tMoveX<0&&this.tMoveX<this.surplus)&&(this.tMoveX=this.tConfig.moveX+this.movingX/(Math.abs(this.tMoveX)/this.width+1)),style=this.box.element.style,style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration="0ms",style.MozTransform=style.webkitTransform="translate3d("+this.tMoveX+"px, 0, 0)",style.msTransform=style.OTransform="translateX("+this.tMoveX+"px)")))},touchEnd:function(e){if(this.isMoving=!1,0==this.movingX)return!1;if(1==this.count){var i=1;isBoundary=0==this.index&&this.movingX>0||this.index==this.length-this.count&&this.movingX<0,"cycle"==t.model?this.slide(this.movingX<0?1:-1,this.speed):this.slide(this.index+(i&&!isBoundary?this.movingX<0?1:-1:0),this.speed)}else this.tMoveX=this.tConfig.moveX+this.movingX,this.tMoveX>0?this.slide(0,0):this.tMoveX<0&&this.tMoveX<this.surplus&&this.slide(this.length-1,0)},autoPlay:function(){if(!t.length)return!1;"cycle"==t.model?t.slide(1,t.speed):t.next()}},t),t.init()},$.fn.visualTab=function(t){t=$.extend({obj:$(this),init:function(){this.button=t.button,this.box=t.box,this.current=t.current||"current",this.box_current=t.box_current||"current",this.selector=t.obj.find(this.button+":visible").selector,this.selectorBox=t.obj.find(this.box).selector,this.bind()},bind:function(){t.obj.find(this.button+":visible").on("click",function(){index=$(this).index(this.selector),t.display(index)})},display:function(e){t.obj.find(this.button).eq(e).addClass(this.current).siblings(this.selector).removeClass(this.current),t.obj.find(this.box).eq(e).show().addClass(this.box_current).siblings(this.selectorBox).hide().removeClass(this.box_current)}},t),t.init()},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)},$.fn.GetTruePixel=function(t){$.fn.GetTruePixel.defaults={type:"width",padding:!0,border:!0,margin:!1};let e,i=this,s=$.extend({},$.fn.GetTruePixel.defaults,t);"width"==s.type?e=i[0].getBoundingClientRect().width:"height"==s.type&&(e=i[0].getBoundingClientRect().height);let r={width:{margin:{left:"margin-left",right:"margin-right"},padding:{left:"padding-left",right:"padding-right"},border:{left:"border-left-width",right:"border-right-width"}},height:{margin:{left:"margin-top",right:"margin-bottom"},padding:{left:"padding-top",right:"padding-bottom"},border:{left:"border-top-width",right:"border-bottom-width"}}};return 0==s.border&&(e=e-parseFloat(i.css(r[s.type].border.left))-parseFloat(i.css(r[s.type].border.right))),0==s.padding&&(e=e-parseFloat(i.css(r[s.type].padding.left))-parseFloat(i.css(r[s.type].padding.right))),1==s.margin&&(e=e+parseFloat(i.css(r[s.type].margin.left))+parseFloat(i.css(r[s.type].margin.right))),e};var Storage={STORAGE_KEY:"ueeshop",setItem:function(t,e,i){if(i){var s=this.getItem(i);void 0===s&&(this.setItem(i,{}),s=this.getItem(i)),s[t]=e,this.setItem(i,s)}else{let i=this.getStorage();i[t]=e,window.localStorage.setItem(Storage.STORAGE_KEY,JSON.stringify(i))}},getItem:function(t,e){if(e){let i=this.getItem(e);if(i)return i[t]}return this.getStorage()[t]},getStorage:function(){return JSON.parse(window.localStorage.getItem(Storage.STORAGE_KEY)||"{}")},clear:function(t,e){let i=this.getStorage();e?delete i[e][t]:delete i[t],window.localStorage.setItem(Storage.STORAGE_KEY,JSON.stringify(i))}};